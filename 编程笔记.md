# 零敲碎打的知识要点
## 取模
在数学中，取模运算的结果就是欧几里得除法的结果。
> 欧几里得除法(带余除法)。给定一个**被除数**$a$,和一个**除数**$b$,欧几里得除法给出一个**整数**$q$和一个介于一定范围的**余数**$r$，使得下式成立:$$a=bq+r$$,同样的表示为$$a \div b=q...r$$,表示为“$a除以b等于q，余r$”,且$|r|<|n|$

对于正整数的取模运算，按照欧几里得除法的性质，能简单的计算结果。如$7%3=1, 1%255=1$。另外需要了解的是，取模运算依赖于**编程语言和底层软件**。
**重点是如何对负数进行取模？**
如：(-7) % 3 = ?, 7 % (-3) = ?
计算之前，先弄清以下几个概念：

>**向上取整(Ceiling)** 
>向$+\infty$方向取最精确的整数,即取结果比实际结果稍大。如：17 /10 = **2**, 5 / 2 = **3**, -9 / 4 = **-2**

>**向下取整(Floor)** 
>向$-\infty$方向取最精确的整数,即取结果比实际结果稍小。如：17 /10 = **1**, 5 / 2 = **2**, -9 / 4 = **-3**

>**向零取整(Truncate)** 
>向$0$方向取最精确的整数,即舍去小数部分。如：17 /10 = **1**, 5 / 2 = **2**, -9 / 4 = **-2**

根据欧几里得除法公式$$a=bq+r$$,得**商**$q=\frac{a}{b}$, **余数**$r=a -( \frac{a}{b}) \cdot b$
由此可知，$r$的结果主要由$\frac{a}{b}$决定。而在计算机中，常用的除法操作有**向零取整 (truncate)**和**向下取整(floor)**

而在Cpp/Java的语言，除法的运算是truncate除法$r=a -trunc( \frac{a}{b}) \cdot b$，python等语言则是floor除法$r=a -floor( \frac{a}{b}) \cdot b$。
回归到开头的例子：
(-7) % 3 = ?, 7 % (-3) = ?
在Cpp/Java中：
(-7) % 3 = -7 - trunc(-7 / 3) * 3 = -7 - (-2) * 3 = -7 + 6 = -1,
7 % (-3) = 7 - trunc(7 / -3) * (-3) = 7 - (-2) * (-3) = 7 - 6 = 1
在python中：
(-7) % 3 = -7 - floor(-7 / 3) * 3 = -7 - (-3) * 3 = -7 + 8 = 2,
7 % (-3) = 7 - floor(7 / -3) * (-3) = 7 - (-3) * (-3) = 7 - 8 =- 2

## 类型转换
- 当赋给**无符号类型**一个**超出它范围**的值时，结果是**初始值对无符号类型表示数值总数取模后的余数**,如：
```cpp
unsigned char c1 = -1	//假设char占8比特
```
因为c1是无符号类型，其所表示的范围是[0, 255],因-1不在此范围内，故结果**该值**是对**区间表示数值总和**即256**取模**后的**余数**，即-1 % 256 = 255
- 当赋给**带符号类型**一个**超出范围**的值时，结果是**未定义(undefined)**的，如：
```cpp
signed char c2 = 256	//假设char占8比特
```
因为c2是带符号类型，其所表示的范围是[-127, 127],故256不在此范围内，其结果是未定义的，此时程序**可能继续工作，可能崩溃，也有可能产生垃圾数据**。

